<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Hephaestus Scanner Application: MidasUpload.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Hephaestus Scanner Application
   
   </div>
   <div id="projectbrief">Hephaestus facilitates creation of 3d scenes from a depth camera that can be shared in our online community and interacted with on tablets.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MidasUpload.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br/>
</div>
<p><a href="MidasUpload_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#a6effe93c00ae9875c614bd856601ab77">parseJson</a> (QByteArray &amp;json)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#a686ee5f7149e3611e0a337a41d318ebe">getJson</a> (const QUrl &amp;url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#a1faba6affd003b13a4830167c07bc3bc">putJson</a> (const QUrl &amp;url, const QString &amp;filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#ad55dc3a9868f713ec92298efbedcdb38">print</a> (std::ostream &amp;outputstream, QVariant const &amp;, int n=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#a112a2e8e3076758e679873ae47228481">isokay</a> (QVariant &amp;v, QString what)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt; <a class="el" href="classMidasFolder.html">MidasFolder</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#afc0cec9d7da21124311a52e7fa3c0605">get_list_of_folders</a> (QString server, QString appname, QString email, QString appkey)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#a3f1f13a643d74ee503c17b9795876c6f">runDialog</a> (QDialog *dialog)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#a74ed9249c9fade40bc39fcfc4453ad50">upload_to_midas_folder</a> (const <a class="el" href="classMidasFolder.html">MidasFolder</a> *folder, QString &amp;filename, QString &amp;fileDescriptor, QString &amp;file_suffix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MidasUpload_8h.html#afc9171d72d95d4e1aeddd7b90f4514f8">upload_to_midas</a> (<a class="el" href="classLoginDialog.html">LoginDialog</a> *loginDialog, QString &amp;filename, QString &amp;file_suffix)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Several functions to manage connections to a Midas server. <a href="http://www.midasplatform.org/">http://www.midasplatform.org/</a></p>
<dl class="author"><dt><b>Authors:</b></dt><dd>Written 2012 by Hal Canary, Christopher Leslie, Frank Ferro <a href="http://hephaestusvision.github.com/hephaestus/">http://hephaestusvision.github.com/hephaestus/</a></dd></dl>
<dl class="copyright"><dt><b>Copyright:</b></dt><dd>Copyright 2012 University of North Carolina at Chapel Hill.</dd>
<dd>
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at LICENSE.txt in this repository or <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></dd>
<dd>
Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </dd></dl>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="afc0cec9d7da21124311a52e7fa3c0605"></a><!-- doxytag: member="MidasUpload.h::get_list_of_folders" ref="afc0cec9d7da21124311a52e7fa3c0605" args="(QString server, QString appname, QString email, QString appkey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; <a class="el" href="classMidasFolder.html">MidasFolder</a> &gt; <a class="el" href="MidasUpload_8h.html#afc0cec9d7da21124311a52e7fa3c0605">get_list_of_folders</a> </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>appname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>appkey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given a set of login information, get a list of visible folders on the server. </p>

</div>
</div>
<a class="anchor" id="a686ee5f7149e3611e0a337a41d318ebe"></a><!-- doxytag: member="MidasUpload.h::getJson" ref="a686ee5f7149e3611e0a337a41d318ebe" args="(const QUrl &amp;url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVariant <a class="el" href="MidasUpload_8h.html#a686ee5f7149e3611e0a337a41d318ebe">getJson</a> </td>
          <td>(</td>
          <td class="paramtype">const QUrl &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given a URL, do a HTTP GET, and return the JSON data, parsed into a tree structure.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>VERY UNSAFE. DO NOT USE UNTRUSTED JSON!!!! </dd></dl>

</div>
</div>
<a class="anchor" id="a112a2e8e3076758e679873ae47228481"></a><!-- doxytag: member="MidasUpload.h::isokay" ref="a112a2e8e3076758e679873ae47228481" args="(QVariant &amp;v, QString what)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="MidasUpload_8h.html#a112a2e8e3076758e679873ae47228481">isokay</a> </td>
          <td>(</td>
          <td class="paramtype">QVariant &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks the return status of a getJson call. Failed calls whill return a invalid QVariant. Then MIDAS api always returns a "stat" field which is set to "ok" if somethng goes wrong. </p>

</div>
</div>
<a class="anchor" id="a6effe93c00ae9875c614bd856601ab77"></a><!-- doxytag: member="MidasUpload.h::parseJson" ref="a6effe93c00ae9875c614bd856601ab77" args="(QByteArray &amp;json)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVariant <a class="el" href="MidasUpload_8h.html#a6effe93c00ae9875c614bd856601ab77">parseJson</a> </td>
          <td>(</td>
          <td class="paramtype">QByteArray &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given a string containing JSON data, return a tree structure.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>VERY UNSAFE. DO NOT USE UNTRUSTED JSON!!!!</dd></dl>
<p>converts a JSON strinng into a QVariant structure. VERY UNSAFE---the evaluate method is vulnerable to arbitrary code injections.! </p>

</div>
</div>
<a class="anchor" id="ad55dc3a9868f713ec92298efbedcdb38"></a><!-- doxytag: member="MidasUpload.h::print" ref="ad55dc3a9868f713ec92298efbedcdb38" args="(std::ostream &amp;outputstream, QVariant const &amp;, int n=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; <a class="el" href="MidasUpload_8h.html#ad55dc3a9868f713ec92298efbedcdb38">print</a> </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant const &amp;&#160;</td>
          <td class="paramname"><em>qvariant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debug function to print a QVariant tree to a outputstream.</p>
<p>for debugging. </p>

</div>
</div>
<a class="anchor" id="a1faba6affd003b13a4830167c07bc3bc"></a><!-- doxytag: member="MidasUpload.h::putJson" ref="a1faba6affd003b13a4830167c07bc3bc" args="(const QUrl &amp;url, const QString &amp;filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVariant <a class="el" href="MidasUpload_8h.html#a1faba6affd003b13a4830167c07bc3bc">putJson</a> </td>
          <td>(</td>
          <td class="paramtype">const QUrl &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given a URL, do a HTTP PUT, and return the JSON data, parsed into a tree structure.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>will be open and sent as the PUT datastream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>VERY UNSAFE. DO NOT USE UNTRUSTED JSON!!!! </dd></dl>

</div>
</div>
<a class="anchor" id="a3f1f13a643d74ee503c17b9795876c6f"></a><!-- doxytag: member="MidasUpload.h::runDialog" ref="a3f1f13a643d74ee503c17b9795876c6f" args="(QDialog *dialog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="MidasUpload_8h.html#a3f1f13a643d74ee503c17b9795876c6f">runDialog</a> </td>
          <td>(</td>
          <td class="paramtype">QDialog *&#160;</td>
          <td class="paramname"><em>dialog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>waits till a dialog emits the finished() signal. Used to ask for user input and wait until they are done. </p>

</div>
</div>
<a class="anchor" id="afc9171d72d95d4e1aeddd7b90f4514f8"></a><!-- doxytag: member="MidasUpload.h::upload_to_midas" ref="afc9171d72d95d4e1aeddd7b90f4514f8" args="(LoginDialog *loginDialog, QString &amp;filename, QString &amp;file_suffix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="MidasUpload_8h.html#afc9171d72d95d4e1aeddd7b90f4514f8">upload_to_midas</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLoginDialog.html">LoginDialog</a> *&#160;</td>
          <td class="paramname"><em>loginDialog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>file_suffix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function you want to call. Will determine where to upload from user input and perform the upload. </p>

</div>
</div>
<a class="anchor" id="a74ed9249c9fade40bc39fcfc4453ad50"></a><!-- doxytag: member="MidasUpload.h::upload_to_midas_folder" ref="a74ed9249c9fade40bc39fcfc4453ad50" args="(const MidasFolder *folder, QString &amp;filename, QString &amp;fileDescriptor, QString &amp;file_suffix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="MidasUpload_8h.html#a74ed9249c9fade40bc39fcfc4453ad50">upload_to_midas_folder</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMidasFolder.html">MidasFolder</a> *&#160;</td>
          <td class="paramname"><em>folder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>fileDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>file_suffix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>perform an upload. </p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 9 2012 19:11:45 for Hephaestus Scanner Application by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
